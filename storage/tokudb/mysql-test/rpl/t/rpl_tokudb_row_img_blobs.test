#Want to skip this test from daily Valgrind execution
skip Require rpl files from MySQL;
--source include/no_valgrind_without_big.inc

-- source include/have_innodb.inc
-- source include/have_tokudb.inc
#
# This file contains tests for WL#5096.
#

-- let $rpl_topology= 1->2->3
-- source include/rpl_init.inc
-- source include/have_binlog_format_row.inc

#
#   WL#5096 Tests.
# 

#
# Tests combinations of binlog-row-image against mixes of MyISAM and InnoDB
# storage engines on all three servers.
#
# All the combinarions need not to be separated into their own files as
# the tests for indexes and engines mixes are, because noblobs test script
# does not take too long time, thence we do not risk triggering PB2 timeout
# on valgrind runs.
#

## NOBLOB

-- let $row_img_set=server_1:NOBLOB:N,server_2:NOBLOB:Y,server_3:NOBLOB:Y
-- source include/rpl_row_img_set.inc

-- let $row_img_test_script= suite/rpl/include/rpl_row_img_blobs.test
-- source suite/tokudb.rpl/include/rpl_tokudb_row_img_general_loop.inc

## MINIMAL

-- let $row_img_set=server_1:MINIMAL:N,server_2:MINIMAL:Y,server_3:MINIMAL:Y
-- source include/rpl_row_img_set.inc

-- let $row_img_test_script= suite/rpl/include/rpl_row_img_blobs.test
-- source suite/tokudb.rpl/include/rpl_tokudb_row_img_general_loop.inc

## FULL

-- let $row_img_set=server_1:FULL:N,server_2:FULL:Y,server_3:FULL:Y
-- source include/rpl_row_img_set.inc

-- let $row_img_test_script= suite/rpl/include/rpl_row_img_blobs.test
-- source suite/tokudb.rpl/include/rpl_tokudb_row_img_general_loop.inc


-- source include/rpl_end.inc
