#
# MDEV-33031 Assertion failure upon reading from performance schema with binlog enabled
#
connect foo,localhost,root;
select variable_name, variable_value from performance_schema.status_by_thread
inner join performance_schema.threads on status_by_thread.thread_id=threads.thread_id
where variable_name like '%spider_direct_aggregate%'
and processlist_id in ($default_id, connection_id());
variable_name	variable_value
Spider_direct_aggregate	0
Spider_direct_aggregate	0
disconnect foo;
connection default;
