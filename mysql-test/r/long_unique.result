create table z_1(abc blob unique);
insert into z_1 values(112);
insert into z_1 values('5666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666');
insert into z_1 values('sachin');
insert into z_1 values('sachin');
ERROR 23000: Can't write; duplicate key in table 'z_1'
select * from z_1;
abc
112
5666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
sachin
select db_row_hash_1 from z_1;
ERROR 42S22: Unknown column 'db_row_hash_1' in 'field list'
desc z_1;
Field	Type	Null	Key	Default	Extra
abc	blob	YES		NULL	
select * from information_schema.columns where table_schema='mtr' and table_name='z_1';
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	COLUMN_NAME	ORDINAL_POSITION	COLUMN_DEFAULT	IS_NULLABLE	DATA_TYPE	CHARACTER_MAXIMUM_LENGTH	CHARACTER_OCTET_LENGTH	NUMERIC_PRECISION	NUMERIC_SCALE	DATETIME_PRECISION	CHARACTER_SET_NAME	COLLATION_NAME	COLUMN_TYPE	COLUMN_KEY	EXTRA	PRIVILEGES	COLUMN_COMMENT
create table tst_1(xyz blob unique , x2 blob unique);
insert into tst_1 values(1,22);
insert into tst_1 values(2,22);
ERROR 23000: Can't write; duplicate key in table 'tst_1'
select * from tst_1;
xyz	x2
1	22
select db_row_hash_1 from tst_1;
ERROR 42S22: Unknown column 'db_row_hash_1' in 'field list'
select db_row_hash_2 from tst_1;
ERROR 42S22: Unknown column 'db_row_hash_2' in 'field list'
select db_row_hash_1,db_row_hash_2 from tst_1;
ERROR 42S22: Unknown column 'db_row_hash_1' in 'field list'
desc tst_1;
Field	Type	Null	Key	Default	Extra
xyz	blob	YES		NULL	
x2	blob	YES		NULL	
select * from information_schema.columns where table_schema='mtr' and table_name='tst_1';
TABLE_CATALOG	TABLE_SCHEMA	TABLE_NAME	COLUMN_NAME	ORDINAL_POSITION	COLUMN_DEFAULT	IS_NULLABLE	DATA_TYPE	CHARACTER_MAXIMUM_LENGTH	CHARACTER_OCTET_LENGTH	NUMERIC_PRECISION	NUMERIC_SCALE	DATETIME_PRECISION	CHARACTER_SET_NAME	COLLATION_NAME	COLUMN_TYPE	COLUMN_KEY	EXTRA	PRIVILEGES	COLUMN_COMMENT
create table t1 (empnum smallint, grp int);
create table t2 (empnum int, name char(5));
insert into t1 values(1,1);
insert into t2 values(1,'bob');
create view v1 as select * from t2 inner join t1 using (empnum);
select * from v1;
empnum	name	grp
1	bob	1
create table c_1(abc blob unique, db_row_hash_1 int unique);
desc c_1;
Field	Type	Null	Key	Default	Extra
abc	blob	YES		NULL	
db_row_hash_1	int(11)	YES	UNI	NULL	
insert into c_1 values(1,1);
insert into c_1 values(1,2);
ERROR 23000: Can't write; duplicate key in table 'c_1'
create table c_2(abc blob unique,xyz blob unique, db_row_hash_2
int,db_row_hash_1 int unique);
desc c_2;
Field	Type	Null	Key	Default	Extra
abc	blob	YES		NULL	
xyz	blob	YES		NULL	
db_row_hash_2	int(11)	YES		NULL	
db_row_hash_1	int(11)	YES	UNI	NULL	
insert into c_2 values(1,1,1,1);
insert into c_2 values(1,23,4,5);
ERROR 23000: Can't write; duplicate key in table 'c_2'
create table u_1(abc int primary key , xyz blob unique);
insert into u_1 values(1,2);
insert into u_1 values(2,3);
update u_1 set xyz=2 where abc=1;
alter table z_1 drop db_row_hash_1;
ERROR 42000: Can't DROP 'db_row_hash_1'; check that column/key exists
alter table c_1 drop db_row_hash_2;
ERROR 42000: Can't DROP 'db_row_hash_2'; check that column/key exists
alter table c_1 drop db_row_hash_1;
alter table z_1 add column  db_row_hash_1 int unique;
show create table z_1;
Table	Create Table
z_1	CREATE TABLE `z_1` (
  `abc` blob,
  `db_row_hash_1` int(11) DEFAULT NULL,
  UNIQUE KEY `db_row_hash_1` (`db_row_hash_1`),
  UNIQUE KEY `abc`(`abc`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1
insert into z_1 values('sachin',1);
ERROR 23000: Can't write; duplicate key in table 'z_1'
alter table c_1 add column db_row_hash_2 int;
show create table c_1;
Table	Create Table
c_1	CREATE TABLE `c_1` (
  `abc` blob,
  `db_row_hash_2` int(11) DEFAULT NULL,
  UNIQUE KEY `abc`(`abc`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1
alter table z_1 change db_row_hash_2 temp int;
ERROR 42S22: Unknown column 'db_row_hash_2' in 'z_1'
alter table c_1 change db_row_hash_3 temp int;
ERROR 42S22: Unknown column 'db_row_hash_3' in 'c_1'
alter table c_1 change db_row_hash_4 temp int;
ERROR 42S22: Unknown column 'db_row_hash_4' in 'c_1'
alter table c_2 change db_row_hash_1 temp int;
create table c_3(abc blob unique, xyz blob);
alter table c_3 add index(db_row_hash_1);
ERROR 42000: Key column 'DB_ROW_HASH_1' doesn't exist in table
create table i_1(x1 int );
alter table i_1 add column x2 blob unique;
insert into i_1 value(1,1);
insert into i_1 value(2,1);
ERROR 23000: Can't write; duplicate key in table 'i_1'
alter table i_1 drop index x2;
insert into i_1 value(2,1);
create table i_2(abc blob);
insert into i_2 values(1);
alter table i_2 add  unique index(abc);
select * from i_2;
abc
1
insert into i_2 values(22);
insert into i_2 values(22);
ERROR 23000: Can't write; duplicate key in table 'i_2'
alter table i_2 drop key abc;
insert into i_2 values(22);
drop table i_2;
create table i_2(abc blob);
insert into i_2 values(1);
alter table i_2 add constraint  unique(abc);
select * from i_2;
abc
1
insert into i_2 values(22);
insert into i_2 values(22);
ERROR 23000: Can't write; duplicate key in table 'i_2'
alter table i_2 drop key abc;
insert into i_2 values(22);
create table di_1(abc blob , xyz int , index(abc,xyz));
show create table di_1;
Table	Create Table
di_1	CREATE TABLE `di_1` (
  `abc` blob,
  `xyz` int(11) DEFAULT NULL,
  INDEX `abc_xyz`(`abc`,`xyz`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1
insert into di_1 values(1,1);
insert into di_1 values(1,1);
insert into di_1 values(2,1);
create table di_2 (abc blob);
insert into di_2 values(1);
insert into di_2 values(1);
alter table di_2 add index(abc);
show create table di_2;
Table	Create Table
di_2	CREATE TABLE `di_2` (
  `abc` blob,
  INDEX `abc`(`abc`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1
insert into di_2 values(1);
alter table di_2 drop index abc;
show create table di_2;
Table	Create Table
di_2	CREATE TABLE `di_2` (
  `abc` blob
) ENGINE=MyISAM DEFAULT CHARSET=latin1
create table s_1(abc blob , xyz text ,unique(abc,xyz));
insert into s_1 values(12,'sachin');
insert into s_1 values(12,'sachin');
ERROR 23000: Can't write; duplicate key in table 's_1'
insert into s_1 values('sachin',12);
