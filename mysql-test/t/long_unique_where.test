create table t1(abc blob unique);
insert into t1 values(1),(2),(3),(4),(5),(NULL),(NULL);
--error ER_DUP_ENTRY
insert into t1 value(1);
select * from t1 where abc=1;
select * from t1 where abc=3;
select * from t1 where abc=7;
# in case of null we do not use any optimization
select * from t1 where abc is  NULL;
drop table t1;
create table t1(abc blob unique, xyz int );
insert into t1 values(1,1),(2,1),(3,3),(4,1),(5,6),(NULL,1),(NULL,NULL);
--error ER_DUP_ENTRY
insert into t1 value(1,NULL);
select * from t1 where abc=1;
select * from t1 where abc=23;
select * from t1 where abc=1 and xyz=1;
select * from t1 where abc=3 and xyz=3;
# now xyz has different value
select * from t1 where abc=7 and xyz =22;
select * from t1 where abc is NULL and xyz=1;
select * from t1 where abc is NULL;
drop table t1;
create table t1(abc blob unique, xyz blob unique );
insert into t1 values(1,1),(2,11),(3,31),(4,12),(5,63),(NULL,1),(NULL,NULL);
--error ER_DUP_ENTRY
insert into t1 value(1,NULL);
select * from t1 where abc=1;
select * from t1 where abc=23;
select * from t1 where abc=1 and xyz=11;
select * from t1 where abc=3 and xyz=31;
select * from t1 where abc=3 and xyz=1;
select * from t1 where abc=7 and xyz =22;
select * from t1 where abc is NULL and xyz=1;
select * from t1 where abc is NULL;
drop table t1;