create table t1(abc blob unique);
insert into t1 values(1),(2),(3),(4),(5),(11),(12),(31),(14),(15),(NULL),(NULL);
--error ER_DUP_ENTRY
insert into t1 value(1);
explain select * from t1 where abc=1;
select * from t1 where abc=1;
select * from t1 where abc=3;
select * from t1 where abc=7;
# in case of null we do not use any optimization
select * from t1 where abc is  NULL;
drop table t1;
create table t1(abc blob unique, xyz int );
insert into t1 values(1,1),(2,1),(3,3),(4,1),(5,6),(NULL,3),(NULL,1),(NULL,NULL),(11,11),(12,11),(31,31),
(14,1),(15,61),(NULL,32),(NULL,12),(NULL,NULL);
--error ER_DUP_ENTRY
insert into t1 value(1,NULL);
explain select * from t1 where abc=15;
select * from t1 where abc=1;
select * from t1 where abc=23;
select * from t1 where abc=1 and xyz=1;
select * from t1 where abc=3 and xyz=3;
# now xyz has different value
select * from t1 where abc=7 and xyz =22;
select * from t1 where abc is NULL and xyz=1;
select * from t1 where abc is NULL;
drop table t1;
create table t1(abc blob unique, xyz blob unique );
insert into t1 values(1,1),(2,11),(3,31),(4,12),(5,63),(NULL,2),(NULL,NULL),(91,19),(92,119),(93,391),(94,192),(95,693);
--error ER_DUP_ENTRY
insert into t1 value(1,NULL);
select * from t1 where abc=1;
select * from t1 where abc=23;
select * from t1 where abc=1 and xyz=11;
select * from t1 where abc=3 and xyz=31;
select * from t1 where abc=3 and xyz=1;
select * from t1 where abc=7 and xyz =22;
select * from t1 where abc is NULL and xyz=2;
select * from t1 where abc is NULL;
drop table t1;