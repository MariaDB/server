CREATE TABLE t (a INT, KEY(a)) ENGINE=Aria PARTITION BY KEY(a) PARTITIONS 2;
SELECT * FROM t PARTITION (p1);
a
DROP TABLE t;
CREATE TABLE t (a INT KEY) ENGINE=Aria PARTITION BY LIST (a) (
PARTITION p0 VALUES IN (1,2),
PARTITION p1 VALUES IN (3,4)
);
CREATE TABLE t1 (a INT KEY) ENGINE=Aria;
INSERT INTO t1 VALUES (1);
INSERT INTO t1 VALUES (3);
CALL mtr.add_suppression("was altered WITHOUT VALIDATION");
ALTER TABLE t EXCHANGE PARTITION p0 WITH TABLE t1 WITHOUT VALIDATION;
REPAIR TABLE t;
Table	Op	Msg_type	Msg_text
test.t	repair	warning	Moved 1 misplaced rows
test.t	repair	status	OK
DROP TABLE t;
DROP TABLE t1;
