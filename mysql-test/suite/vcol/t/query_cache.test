--echo #
--echo # MDEV-29186 Query cache makes virtual column function RAND() non-random
--echo #

set global query_cache_type=1;
set query_cache_type=1;
set rand_seed1=1234567890, rand_seed2=20;
create table t1 (a int, b float as (rand()));
insert into t1 (a) values (1);
--disable_ps2_protocol
select * from t1;
select * from t1;
set global query_cache_type=default;
select * from t1;
--enable_ps2_protocol
drop table t1;

--echo # End of 10.11 tests
