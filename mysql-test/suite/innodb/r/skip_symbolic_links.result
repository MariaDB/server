SELECT @@have_symlink;
@@have_symlink
DISABLED
CREATE TABLE t1(a INT) ENGINE=InnoDB DATA DIRECTORY 'MYSQL_TMP_DIR';
Warnings:
Warning	1618	<DATA DIRECTORY> option ignored
DROP TABLE t1;
CREATE TABLE t1(a INT) ENGINE=InnoDB;
ALTER TABLE t1 DATA DIRECTORY 'MYSQL_TMP_DIR';
Warnings:
Warning	1618	<DATA DIRECTORY> option ignored
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COLLATE=latin1_swedish_ci
DROP TABLE t1;
# restart: --symbolic-links
CREATE TABLE t1(a INT PRIMARY KEY, b INT) ENGINE=InnoDB
DATA DIRECTORY 'MYSQL_TMP_DIR';
CREATE TABLE t2(a INT PRIMARY KEY, b INT) ENGINE=InnoDB
DATA DIRECTORY 'MYSQL_TMP_DIR';
TRUNCATE TABLE t1;
TRUNCATE TABLE t2;
# restart
ALTER TABLE t1 FORCE, ALGORITHM=INPLACE;
Warnings:
Warning	1618	<DATA DIRECTORY> option ignored
ALTER TABLE t2 FORCE, ALGORITHM=COPY;
Warnings:
Warning	1618	<DATA DIRECTORY> option ignored
OPTIMIZE TABLE t1;
Table	Op	Msg_type	Msg_text
test.t1	optimize	note	Table does not support optimize, doing recreate + analyze instead
test.t1	optimize	status	OK
Warnings:
Warning	1618	<DATA DIRECTORY> option ignored
t1.ibd
DROP TABLE t2;
RENAME TABLE t1 TO t2;
ALTER TABLE t2 ADD UNIQUE INDEX(b), RENAME TO t3;
Warnings:
Warning	1618	<DATA DIRECTORY> option ignored
ALTER TABLE t3 RENAME TO t2;
ALTER TABLE t2 DROP INDEX b, RENAME TO t1;
Warnings:
Warning	1618	<DATA DIRECTORY> option ignored
ALTER TABLE t1 CHANGE b c INT;
Warnings:
Warning	1618	<DATA DIRECTORY> option ignored
ALTER TABLE t1 CHANGE c b INT NOT NULL;
Warnings:
Warning	1618	<DATA DIRECTORY> option ignored
t1.ibd
TRUNCATE TABLE t1;
DROP TABLE t1;
