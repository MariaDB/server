# restart: --innodb-log-group-home-dir=MYSQLTEST_VARDIR/tmp/log --innodb-data-home-dir=MYSQLTEST_VARDIR/tmp/log --innodb-undo-tablespaces=0 --innodb-log-file-disabled
SELECT * FROM INFORMATION_SCHEMA.ENGINES
WHERE engine = 'innodb'
AND support IN ('YES', 'DEFAULT', 'ENABLED');
ENGINE	SUPPORT	COMMENT	TRANSACTIONS	XA	SAVEPOINTS
InnoDB	YES	Supports transactions, row-level locking, foreign keys and encryption for tables	YES	YES	YES
# restart: --innodb-log-group-home-dir=MYSQLTEST_VARDIR/tmp/log --innodb-data-home-dir=MYSQLTEST_VARDIR/tmp/log --innodb-undo-tablespaces=0
SET GLOBAL innodb_log_file_disabled=ON;
SET STATEMENT max_statement_time=1e-6 FOR
SET GLOBAL innodb_log_file_disabled=OFF;
SET GLOBAL innodb_log_file_disabled=OFF;
CREATE TABLE t(a SERIAL, b CHAR(255) NOT NULL DEFAULT '') ENGINE=InnoDB;
SET GLOBAL innodb_log_file_disabled=ON;
ALTER TABLE t ADD c2 CHAR FIRST;
INSERT INTO t(a) SELECT * from seq_1_to_10000;
SET STATEMENT max_statement_time=1e-6 FOR
SET GLOBAL innodb_log_file_disabled=OFF;
DROP TABLE t;
SET GLOBAL innodb_log_file_disabled=OFF;
SET GLOBAL innodb_log_file_disabled=ON,
innodb_log_file_size=@@innodb_log_file_size + 4096;
CREATE TABLE t ENGINE=InnoDB SELECT 1;
SET GLOBAL innodb_log_file_disabled=OFF,
innodb_log_file_size=@@innodb_log_file_size - 4096;
# restart: --innodb-log-group-home-dir=MYSQLTEST_VARDIR/tmp/log --innodb-data-home-dir=MYSQLTEST_VARDIR/tmp/log --innodb-undo-tablespaces=0
SELECT * FROM t;
1
1
DROP TABLE t;
# restart
