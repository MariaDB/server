SET sql_mode=ORACLE;
#
# MDEV-10152 Add support for TYPE .. IS REF CURSOR
#
CREATE PROCEDURE p1 IS
TYPE cur_t IS REF CURSOR;
c0 cur_t;
va INT;
vb VARCHAR(32);
BEGIN
OPEN c0 FOR (SELECT 1,'b1' FROM DUAL) UNION (SELECT 2,'b2' FROM DUAL);
LOOP
FETCH c0 iNTO va, vb;
EXIT WHEN c0%NOTFOUND;
SELECT va, vb;
END LOOP;
CLOSE c0;
END;
$$
CALL p1;
va	vb
1	b1
va	vb
2	b2
DROP PROCEDURE p1;
