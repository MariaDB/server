if ($MTR_COMBINATION_SEC)
{
  --skip pk or unique only
}

--source suite/versioning/common.inc
--source suite/versioning/key_type.inc
--source suite/versioning/engines.inc

--replace_result $sys_datatype_expl SYS_DATATYPE "$KEY_TYPE" KEY_TYPE
eval create or replace table t(
  id int,
  $KEY_TYPE(id),
  x int,
  row_start $sys_datatype_expl as row start invisible,
  row_end $sys_datatype_expl as row end invisible,
  period for system_time(row_start, row_end)
) with system versioning;

insert t values (1, 2);
replace t values (1, 3);
select *, row_end>TIMESTAMP'2038-01-01 00:00:00' as current from t for system_time all
order by x;

drop database test;
create database test;
