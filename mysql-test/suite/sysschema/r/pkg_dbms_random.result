#
# MDEV-34327: System package SYS.DBMS_RANDOM
#
SET sql_mode= oracle;
SET SESSION note_verbosity = "";
SELECT SESSION_Value FROM INFORMATION_SCHEMA.SYSTEM_VARIABLES WHERE VARIABLE_NAME LIKE 'rand_seed1' INTO @orig_seed1;
SELECT SESSION_Value FROM INFORMATION_SCHEMA.SYSTEM_VARIABLES WHERE VARIABLE_NAME LIKE 'rand_seed2' INTO @orig_seed2;
#
# Test INITIALIZE
#
CALL sys.DBMS_RANDOM.INITIALIZE(1);
#
# Test INITIALIZE without an argument
#
CALL sys.DBMS_RANDOM.INITIALIZE();
ERROR 42000: Incorrect number of arguments for PROCEDURE sys.DBMS_RANDOM.initialize; expected 1, got 0
#
# Test VALUE
#
SELECT sys.DBMS_RANDOM.VALUE();
sys.DBMS_RANDOM.VALUE()
0.40540353712197724000000000000000000000
SELECT sys.DBMS_RANDOM.VALUE();
sys.DBMS_RANDOM.VALUE()
0.87161418038570710000000000000000000000
SELECT sys.DBMS_RANDOM.VALUE();
sys.DBMS_RANDOM.VALUE()
0.14186032129624890000000000000000000000
#
# Test VALUE with an argument
#
SELECT sys.DBMS_RANDOM.VALUE(1);
ERROR 42000: Incorrect number of arguments for FUNCTION sys.DBMS_RANDOM.value; expected 0, got 1
#
# Test RANDOM
#
SELECT sys.DBMS_RANDOM.RANDOM();
sys.DBMS_RANDOM.RANDOM()
-1741784920
SELECT sys.DBMS_RANDOM.RANDOM();
sys.DBMS_RANDOM.RANDOM()
-1946846196
SELECT sys.DBMS_RANDOM.RANDOM();
sys.DBMS_RANDOM.RANDOM()
1933574855
#
# Test RANDOM with an argument
#
SELECT sys.DBMS_RANDOM.RANDOM(1);
ERROR 42000: Incorrect number of arguments for FUNCTION sys.DBMS_RANDOM.random; expected 0, got 1
#
# Test TERMINATE
#
CALL sys.DBMS_RANDOM.TERMINATE();
#
# Test TERMINATE with an argument
#
CALL sys.DBMS_RANDOM.TERMINATE(1);
ERROR 42000: Incorrect number of arguments for PROCEDURE sys.DBMS_RANDOM.terminate; expected 0, got 1
SET SESSION rand_seed1 = CAST(@orig_seed1 AS INT);
SET SESSION rand_seed2 = CAST(@orig_seed2 AS INT);
