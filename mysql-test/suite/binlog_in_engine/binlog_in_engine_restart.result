RESET MASTER;
CREATE TABLE t1 (a INT PRIMARY KEY, b INT) ENGINE=InnoDB;
INSERT INTO t1 VALUES (1, 0);
INSERT INTO t1 SELECT seq+1000000+100000*0, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+1000000+100000*1, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+1000000+100000*2, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+1000000+100000*3, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+1000000+100000*4, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+1000000+100000*5, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+1000000+100000*6, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+1000000+100000*7, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+1000000+100000*8, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+1000000+100000*9, seq FROM seq_1_to_4000;
SELECT @@GLOBAL.gtid_binlog_state;
@@GLOBAL.gtid_binlog_state
0-1-12
# restart
SELECT @@GLOBAL.gtid_binlog_state;
@@GLOBAL.gtid_binlog_state
0-1-12
INSERT INTO t1 VALUES (2, 0);
INSERT INTO t1 SELECT seq+2000000+100000*0, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+2000000+100000*1, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+2000000+100000*2, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+2000000+100000*3, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+2000000+100000*4, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+2000000+100000*5, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+2000000+100000*6, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+2000000+100000*7, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+2000000+100000*8, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+2000000+100000*9, seq FROM seq_1_to_4000;
SELECT @@GLOBAL.gtid_binlog_state;
@@GLOBAL.gtid_binlog_state
0-1-23
# restart
SELECT @@GLOBAL.gtid_binlog_state;
@@GLOBAL.gtid_binlog_state
0-1-23
INSERT INTO t1 VALUES (3, 0);
INSERT INTO t1 SELECT seq+3000000+100000*0, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+3000000+100000*1, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+3000000+100000*2, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+3000000+100000*3, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+3000000+100000*4, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+3000000+100000*5, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+3000000+100000*6, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+3000000+100000*7, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+3000000+100000*8, seq FROM seq_1_to_4000;
INSERT INTO t1 SELECT seq+3000000+100000*9, seq FROM seq_1_to_4000;
SHOW BINARY LOGS;
Log_name	File_size
binlog-000000.ibb	262144
binlog-000001.ibb	262144
binlog-000002.ibb	262144
binlog-000003.ibb	262144
binlog-000004.ibb	262144
binlog-000005.ibb	262144
DROP TABLE t1;
