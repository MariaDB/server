include/reset_master.inc
SELECT @@GLOBAL.binlog_storage_engine;
@@GLOBAL.binlog_storage_engine
innodb
CREATE TABLE t1 (a INT PRIMARY KEY) ENGINE=InnoDB;
INSERT INTO t1 VALUES (1);
BEGIN;
INSERT INTO t1 VALUES (2);
INSERT INTO t1 VALUES (3);
COMMIT;
SELECT * FROM t1 ORDER BY a;
a
1
2
3
DROP TABLE t1;
SELECT @@GLOBAL.binlog_checksum;
@@GLOBAL.binlog_checksum
NONE
SHOW MASTER STATUS;
File	Position	Binlog_Do_DB	Binlog_Ignore_DB
binlog-000000.ibb	#		
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
binlog-000000.ibb	#	Gtid	#	#	GTID #-#-#
binlog-000000.ibb	#	Query	#	#	use `test`; CREATE TABLE t1 (a INT PRIMARY KEY) ENGINE=InnoDB
binlog-000000.ibb	#	Gtid	#	#	BEGIN GTID #-#-#
binlog-000000.ibb	#	Query	#	#	use `test`; INSERT INTO t1 VALUES (1)
binlog-000000.ibb	#	Xid	#	#	COMMIT /* XID */
binlog-000000.ibb	#	Gtid	#	#	BEGIN GTID #-#-#
binlog-000000.ibb	#	Query	#	#	use `test`; INSERT INTO t1 VALUES (2)
binlog-000000.ibb	#	Query	#	#	use `test`; INSERT INTO t1 VALUES (3)
binlog-000000.ibb	#	Xid	#	#	COMMIT /* XID */
binlog-000000.ibb	#	Gtid	#	#	GTID #-#-#
binlog-000000.ibb	#	Query	#	#	use `test`; DROP TABLE `t1` /* generated by server */
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
binlog-000000.ibb	#	Gtid	#	#	BEGIN GTID #-#-#
binlog-000000.ibb	#	Query	#	#	use `test`; INSERT INTO t1 VALUES (1)
binlog-000000.ibb	#	Xid	#	#	COMMIT /* XID */
CREATE TABLE t2 (a INT PRIMARY KEY, b VARCHAR(2048)) ENGINE=InnoDB;
SET SESSION binlog_format= ROW;
*** Do 1500 transactions ...
SET SESSION binlog_format= MIXED;
DROP TABLE t2;
