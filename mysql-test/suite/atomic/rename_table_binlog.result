RESET MASTER;
"engine: myisam  crash point: ddl_log_rename_before_binlog  position: 1"
"engine: myisam  crash point: ddl_log_rename_after_binlog  position: 1"
"engine: aria  crash point: ddl_log_rename_before_binlog  position: 1"
"engine: aria  crash point: ddl_log_rename_after_binlog  position: 1"
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
master-bin.000002	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000002	#	Query	#	#	use `test`; insert into t1 values(null)
master-bin.000002	#	Query	#	#	COMMIT
master-bin.000002	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000002	#	Query	#	#	use `test`; insert into t2 values(null)
master-bin.000002	#	Query	#	#	COMMIT
master-bin.000002	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000002	#	Query	#	#	use `test`; insert into t3 values(null)
master-bin.000002	#	Query	#	#	COMMIT
master-bin.000002	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000002	#	Query	#	#	use `test`; insert into t4 values(null)
master-bin.000002	#	Query	#	#	COMMIT
master-bin.000002	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000002	#	Query	#	#	use `test`; delete from t1 where a > 100
master-bin.000002	#	Query	#	#	COMMIT
master-bin.000002	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000002	#	Query	#	#	use `test`; delete from t2 where b > 100
master-bin.000002	#	Query	#	#	COMMIT
master-bin.000002	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000002	#	Query	#	#	use `test`; delete from t3 where c > 100
master-bin.000002	#	Query	#	#	COMMIT
master-bin.000002	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000002	#	Query	#	#	use `test`; delete from t4 where d > 100
master-bin.000002	#	Query	#	#	COMMIT
master-bin.000002	#	Gtid	#	#	GTID #-#-#
master-bin.000002	#	Query	#	#	use `test`; flush tables
master-bin.000002	#	Gtid	#	#	GTID #-#-#
master-bin.000002	#	Query	#	#	use `test`; rename table t1 to t5, t2 to t1, t5 to t2, t4 to t5, t3 to t4
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
master-bin.000003	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000003	#	Query	#	#	use `test`; insert into t1 values(null)
master-bin.000003	#	Query	#	#	COMMIT
master-bin.000003	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000003	#	Query	#	#	use `test`; insert into t2 values(null)
master-bin.000003	#	Query	#	#	COMMIT
master-bin.000003	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000003	#	Query	#	#	use `test`; insert into t5 values(null)
master-bin.000003	#	Query	#	#	COMMIT
master-bin.000003	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000003	#	Query	#	#	use `test`; insert into t4 values(null)
master-bin.000003	#	Query	#	#	COMMIT
master-bin.000003	#	Gtid	#	#	GTID #-#-#
master-bin.000003	#	Query	#	#	use `test`; DROP TABLE `t1`,`t2`,`t4`,`t5` /* generated by server */
master-bin.000003	#	Gtid	#	#	GTID #-#-#
master-bin.000003	#	Query	#	#	use `test`; create table t1 (a int not null) transactional=1
master-bin.000003	#	Gtid	#	#	GTID #-#-#
master-bin.000003	#	Query	#	#	use `test`; create table t2 (b int not null) transactional=1
master-bin.000003	#	Gtid	#	#	GTID #-#-#
master-bin.000003	#	Query	#	#	use `test`; create table t3 (c int not null) transactional=1
master-bin.000003	#	Gtid	#	#	GTID #-#-#
master-bin.000003	#	Query	#	#	use `test`; create table t4 (d int not null) transactional=1
master-bin.000003	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000003	#	Query	#	#	use `test`; insert into t1 values(1)
master-bin.000003	#	Query	#	#	COMMIT
master-bin.000003	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000003	#	Query	#	#	use `test`; insert into t2 values(2)
master-bin.000003	#	Query	#	#	COMMIT
master-bin.000003	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000003	#	Query	#	#	use `test`; insert into t3 values(3)
master-bin.000003	#	Query	#	#	COMMIT
master-bin.000003	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000003	#	Query	#	#	use `test`; insert into t4 values(4)
master-bin.000003	#	Query	#	#	COMMIT
master-bin.000003	#	Gtid	#	#	GTID #-#-#
master-bin.000003	#	Query	#	#	use `test`; CREATE DEFINER=`root`@`localhost` trigger t1_trg before insert on t1 for each row
begin
if isnull(new.a) then
set new.a:= 1000;
end if;
end
master-bin.000003	#	Gtid	#	#	GTID #-#-#
master-bin.000003	#	Query	#	#	use `test`; CREATE DEFINER=`root`@`localhost` trigger t2_trg before insert on t2 for each row
begin
if isnull(new.b) then
set new.b:= 2000;
end if;
end
master-bin.000003	#	Gtid	#	#	GTID #-#-#
master-bin.000003	#	Query	#	#	use `test`; CREATE DEFINER=`root`@`localhost` trigger t3_trg before insert on t3 for each row
begin
if isnull(new.c) then
set new.c:= 4000;
end if;
end
master-bin.000003	#	Gtid	#	#	GTID #-#-#
master-bin.000003	#	Query	#	#	use `test`; CREATE DEFINER=`root`@`localhost` trigger t4_trg before insert on t4 for each row
begin
if isnull(new.d) then
set new.d:= 8000;
end if;
end
master-bin.000003	#	Gtid	#	#	GTID #-#-#
master-bin.000003	#	Query	#	#	use `test`; flush tables
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
master-bin.000004	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000004	#	Query	#	#	use `test`; insert into t1 values(null)
master-bin.000004	#	Query	#	#	COMMIT
master-bin.000004	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000004	#	Query	#	#	use `test`; insert into t2 values(null)
master-bin.000004	#	Query	#	#	COMMIT
master-bin.000004	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000004	#	Query	#	#	use `test`; insert into t3 values(null)
master-bin.000004	#	Query	#	#	COMMIT
master-bin.000004	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000004	#	Query	#	#	use `test`; insert into t4 values(null)
master-bin.000004	#	Query	#	#	COMMIT
master-bin.000004	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000004	#	Query	#	#	use `test`; delete from t1 where a > 100
master-bin.000004	#	Query	#	#	COMMIT
master-bin.000004	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000004	#	Query	#	#	use `test`; delete from t2 where b > 100
master-bin.000004	#	Query	#	#	COMMIT
master-bin.000004	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000004	#	Query	#	#	use `test`; delete from t3 where c > 100
master-bin.000004	#	Query	#	#	COMMIT
master-bin.000004	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000004	#	Query	#	#	use `test`; delete from t4 where d > 100
master-bin.000004	#	Query	#	#	COMMIT
master-bin.000004	#	Gtid	#	#	GTID #-#-#
master-bin.000004	#	Query	#	#	use `test`; flush tables
master-bin.000004	#	Gtid	#	#	GTID #-#-#
master-bin.000004	#	Query	#	#	use `test`; rename table t1 to t5, t2 to t1, t5 to t2, t4 to t5, t3 to t4
include/show_binlog_events.inc
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
master-bin.000005	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000005	#	Query	#	#	use `test`; insert into t1 values(null)
master-bin.000005	#	Query	#	#	COMMIT
master-bin.000005	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000005	#	Query	#	#	use `test`; insert into t2 values(null)
master-bin.000005	#	Query	#	#	COMMIT
master-bin.000005	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000005	#	Query	#	#	use `test`; insert into t5 values(null)
master-bin.000005	#	Query	#	#	COMMIT
master-bin.000005	#	Gtid	#	#	BEGIN GTID #-#-#
master-bin.000005	#	Query	#	#	use `test`; insert into t4 values(null)
master-bin.000005	#	Query	#	#	COMMIT
master-bin.000005	#	Gtid	#	#	GTID #-#-#
master-bin.000005	#	Query	#	#	use `test`; DROP TABLE `t1`,`t2`,`t4`,`t5` /* generated by server */
