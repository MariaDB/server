call mtr.add_suppression("InnoDB: .* does not exist in the InnoDB internal");
RESET MASTER;
"engine: aria  crash point: ddl_log_drop_before_delete_table  position: 1"
t1v.frm
t2.MAD
t2.MAI
t2.frm
Procedure	sql_mode	Create Procedure	character_set_client	collation_connection	Database Collation
foo	STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION	CREATE DEFINER=`root`@`localhost` PROCEDURE `foo`()
insert into test.t1 values (42)	latin1	latin1_swedish_ci	latin1_swedish_ci
master-bin.000002	#	Query	#	#	use `test2`; DROP TABLE IF EXISTS `t1` /* generated by ddl recovery */
"engine: aria  crash point: ddl_log_drop_before_delete_table  position: 2"
t1v.frm
t2.MAD
t2.MAI
t2.frm
Procedure	sql_mode	Create Procedure	character_set_client	collation_connection	Database Collation
foo	STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION	CREATE DEFINER=`root`@`localhost` PROCEDURE `foo`()
insert into test.t1 values (42)	latin1	latin1_swedish_ci	latin1_swedish_ci
master-bin.000002	#	Query	#	#	use `test2`; DROP TABLE IF EXISTS `t1` /* generated by ddl recovery */
master-bin.000002	#	Query	#	#	use `test2`; DROP VIEW IF EXISTS `t1v` /* generated by ddl recovery */
"engine: aria  crash point: ddl_log_drop_before_delete_table  position: 3"
Procedure	sql_mode	Create Procedure	character_set_client	collation_connection	Database Collation
foo	STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION	CREATE DEFINER=`root`@`localhost` PROCEDURE `foo`()
insert into test.t1 values (42)	latin1	latin1_swedish_ci	latin1_swedish_ci
master-bin.000002	#	Query	#	#	use `test2`; DROP TABLE IF EXISTS `t1`,`t2` /* generated by ddl recovery */
master-bin.000002	#	Query	#	#	use `test2`; DROP VIEW IF EXISTS `t1v` /* generated by ddl recovery */
"engine: aria  crash point: ddl_log_drop_after_drop_tables  position: 1"
Procedure	sql_mode	Create Procedure	character_set_client	collation_connection	Database Collation
foo	STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION	CREATE DEFINER=`root`@`localhost` PROCEDURE `foo`()
insert into test.t1 values (42)	latin1	latin1_swedish_ci	latin1_swedish_ci
master-bin.000002	#	Query	#	#	use `test2`; DROP TABLE IF EXISTS `t1`,`t2` /* generated by ddl recovery */
master-bin.000002	#	Query	#	#	use `test2`; DROP VIEW IF EXISTS `t1v` /* generated by ddl recovery */
"engine: aria  crash point: ddl_log_drop_before_ha_drop_database  position: 1"
master-bin.000002	#	Query	#	#	DROP DATABASE IF EXISTS `test2` /* generated by ddl recovery */
"engine: aria  crash point: ddl_log_drop_before_drop_db_routines  position: 1"
master-bin.000002	#	Query	#	#	DROP DATABASE IF EXISTS `test2` /* generated by ddl recovery */
"engine: aria  crash point: ddl_log_drop_after_drop_db_routines  position: 1"
master-bin.000002	#	Query	#	#	DROP DATABASE IF EXISTS `test2` /* generated by ddl recovery */
"engine: aria  crash point: ddl_log_drop_before_drop_option_file  position: 1"
master-bin.000002	#	Query	#	#	DROP DATABASE IF EXISTS `test2` /* generated by ddl recovery */
"engine: aria  crash point: ddl_log_drop_before_drop_dir  position: 1"
master-bin.000002	#	Query	#	#	DROP DATABASE IF EXISTS `test2` /* generated by ddl recovery */
"engine: aria  crash point: ddl_log_drop_after_drop_dir  position: 1"
master-bin.000002	#	Query	#	#	DROP DATABASE IF EXISTS `test2` /* generated by ddl recovery */
"engine: aria  crash point: ddl_log_drop_before_binlog  position: 1"
master-bin.000002	#	Query	#	#	DROP DATABASE IF EXISTS `test2` /* generated by ddl recovery */
"engine: aria  crash point: ddl_log_drop_after_binlog  position: 1"
master-bin.000001	#	Query	#	#	DROP DATABASE test2
"engine: innodb  crash point: ddl_log_drop_before_delete_table  position: 1"
t1v.frm
t2.frm
t2.ibd
Procedure	sql_mode	Create Procedure	character_set_client	collation_connection	Database Collation
foo	STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION	CREATE DEFINER=`root`@`localhost` PROCEDURE `foo`()
insert into test.t1 values (42)	latin1	latin1_swedish_ci	latin1_swedish_ci
master-bin.000002	#	Query	#	#	use `test2`; DROP TABLE IF EXISTS `t1` /* generated by ddl recovery */
"engine: innodb  crash point: ddl_log_drop_before_delete_table  position: 2"
t1v.frm
t2.frm
t2.ibd
Procedure	sql_mode	Create Procedure	character_set_client	collation_connection	Database Collation
foo	STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION	CREATE DEFINER=`root`@`localhost` PROCEDURE `foo`()
insert into test.t1 values (42)	latin1	latin1_swedish_ci	latin1_swedish_ci
master-bin.000002	#	Query	#	#	use `test2`; DROP TABLE IF EXISTS `t1` /* generated by ddl recovery */
master-bin.000002	#	Query	#	#	use `test2`; DROP VIEW IF EXISTS `t1v` /* generated by ddl recovery */
"engine: innodb  crash point: ddl_log_drop_before_delete_table  position: 3"
Procedure	sql_mode	Create Procedure	character_set_client	collation_connection	Database Collation
foo	STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION	CREATE DEFINER=`root`@`localhost` PROCEDURE `foo`()
insert into test.t1 values (42)	latin1	latin1_swedish_ci	latin1_swedish_ci
master-bin.000002	#	Query	#	#	use `test2`; DROP TABLE IF EXISTS `t1`,`t2` /* generated by ddl recovery */
master-bin.000002	#	Query	#	#	use `test2`; DROP VIEW IF EXISTS `t1v` /* generated by ddl recovery */
"engine: innodb  crash point: ddl_log_drop_after_drop_tables  position: 1"
Procedure	sql_mode	Create Procedure	character_set_client	collation_connection	Database Collation
foo	STRICT_TRANS_TABLES,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION	CREATE DEFINER=`root`@`localhost` PROCEDURE `foo`()
insert into test.t1 values (42)	latin1	latin1_swedish_ci	latin1_swedish_ci
master-bin.000002	#	Query	#	#	use `test2`; DROP TABLE IF EXISTS `t1`,`t2` /* generated by ddl recovery */
master-bin.000002	#	Query	#	#	use `test2`; DROP VIEW IF EXISTS `t1v` /* generated by ddl recovery */
"engine: innodb  crash point: ddl_log_drop_before_ha_drop_database  position: 1"
master-bin.000002	#	Query	#	#	DROP DATABASE IF EXISTS `test2` /* generated by ddl recovery */
"engine: innodb  crash point: ddl_log_drop_before_drop_db_routines  position: 1"
master-bin.000002	#	Query	#	#	DROP DATABASE IF EXISTS `test2` /* generated by ddl recovery */
"engine: innodb  crash point: ddl_log_drop_after_drop_db_routines  position: 1"
master-bin.000002	#	Query	#	#	DROP DATABASE IF EXISTS `test2` /* generated by ddl recovery */
"engine: innodb  crash point: ddl_log_drop_before_drop_option_file  position: 1"
master-bin.000002	#	Query	#	#	DROP DATABASE IF EXISTS `test2` /* generated by ddl recovery */
"engine: innodb  crash point: ddl_log_drop_before_drop_dir  position: 1"
master-bin.000002	#	Query	#	#	DROP DATABASE IF EXISTS `test2` /* generated by ddl recovery */
"engine: innodb  crash point: ddl_log_drop_after_drop_dir  position: 1"
master-bin.000002	#	Query	#	#	DROP DATABASE IF EXISTS `test2` /* generated by ddl recovery */
"engine: innodb  crash point: ddl_log_drop_before_binlog  position: 1"
master-bin.000002	#	Query	#	#	DROP DATABASE IF EXISTS `test2` /* generated by ddl recovery */
"engine: innodb  crash point: ddl_log_drop_after_binlog  position: 1"
master-bin.000001	#	Query	#	#	DROP DATABASE test2
Warnings:
Note	1008	Can't drop database 'test2'; database doesn't exist
