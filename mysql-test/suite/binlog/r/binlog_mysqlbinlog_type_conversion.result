call mtr.add_suppression("BINLOG_BASE64_EVENT: Column 1 of table 'test.t1' cannot be converted from type 'int' to type");
#
# Initialize test data
create table t1 (a int, b int, key(a)) engine=innodb;
create table t2 (a int, b int,foreign key(b) references t1 (a)) engine=innodb;
flush logs;
insert into t1 values (1, 1);
#MYSQL_BINLOG datadir/binlog_name --result-file=binlog_sql_file
flush logs;
# Change the type of the table
delete from t1 where a=1;
alter table t1 drop b;
alter table t1 add column b char(1);
# Replay the binlog with the INSERT statement
# MYSQL -e "source binlog_sql_file"
include/assert_grep.inc [Ensure error log reports type conversion failure]
#
# Cleanup
drop table t2, t1;
# End of binlog_mysqlbinlog_type_conversion.test
