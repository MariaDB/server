#
# Verify that SET string values and character sets can be printed correctly
#
SET NAMES utf8;
CREATE TABLE t1(
c_set_1 SET("set1_v1_Ã¥", "set1_v2_Ã¤", "set1_v3_Ã¶"),
c_set_2 SET("set2_v1_Ã¥", "set2_v2_Ã¤", "set2_v3_Ã¶") CHARACTER SET utf32);
SET GLOBAL binlog_row_metadata = MINIMAL;
INSERT INTO t1 VALUES("set1_v1_Ã¥", "set2_v2_Ã¤");
# Columns(SET,
#         SET)
RESET MASTER;
SET GLOBAL binlog_row_metadata = FULL;
INSERT INTO t1 VALUES("set1_v1_Ã¥", "set2_v2_Ã¤");
# Columns(`c_set_1` SET('set1_v1_å','set1_v2_ä','set1_v3_ö') CHARSET latin1 COLLATE latin1_swedish_ci,
#         `c_set_2` SET('\0\0\0s\0\0\0e\0\0\0t\0\0\02\0\0\0_\0\0\0v\0\0\01\0\0\0_\0\0\0å','\0\0\0s\0\0\0e\0\0\0t\0\0\02\0\0\0_\0\0\0v\0\0\02\0\0\0_\0\0\0ä','\0\0\0s\0\0\0e\0\0\0t\0\0\02\0\0\0_\0\0\0v\0\0\03\0\0\0_\0\0\0ö') CHARSET utf32 COLLATE utf32_general_ci)
INSERT INTO t1 VALUES("set1_v3_Ã¶", "set2_v3_Ã¶");
INSERT INTO t1 VALUES("set1_v1_Ã¥", "set2_v1_Ã¥");
SELECT c_set_1, HEX(c_set_1) FROM t1;
c_set_1	HEX(c_set_1)
set1_v1_Ã¥	736574315F76315FE5
set1_v1_Ã¥	736574315F76315FE5
set1_v3_Ã¶	736574315F76335FF6
set1_v1_Ã¥	736574315F76315FE5
SELECT c_set_2, HEX(c_set_2) FROM t1;
c_set_2	HEX(c_set_2)
set2_v2_Ã¤	000000730000006500000074000000320000005F00000076000000320000005F000000E4
set2_v2_Ã¤	000000730000006500000074000000320000005F00000076000000320000005F000000E4
set2_v3_Ã¶	000000730000006500000074000000320000005F00000076000000330000005F000000F6
set2_v1_Ã¥	000000730000006500000074000000320000005F00000076000000310000005F000000E5
DROP TABLE t1;
RESET MASTER;
#
# Verify that ENUM string values and character sets can be printed correctly
#
CREATE TABLE t1(
c_enum_1 ENUM("enum1_v1_Ã¥", "enum1_v2_Ã¤", "enum1_v3_Ã¶"),
c_enum_2 ENUM("enum2_v1_Ã¥", "enum2_v2_Ã¤", "enum2_v3_Ã¶") CHARACTER SET utf32);
SET GLOBAL binlog_row_metadata = MINIMAL;
INSERT INTO t1 VALUES("enum1_v1_Ã¥", "enum2_v2_Ã¤");
# Columns(ENUM,
#         ENUM)
RESET MASTER;
SET GLOBAL binlog_row_metadata = FULL;
INSERT INTO t1 VALUES("enum1_v1_Ã¥", "enum2_v2_Ã¤");
# Columns(`c_enum_1` ENUM('enum1_v1_å','enum1_v2_ä','enum1_v3_ö') CHARSET latin1 COLLATE latin1_swedish_ci,
#         `c_enum_2` ENUM('\0\0\0e\0\0\0n\0\0\0u\0\0\0m\0\0\02\0\0\0_\0\0\0v\0\0\01\0\0\0_\0\0\0å','\0\0\0e\0\0\0n\0\0\0u\0\0\0m\0\0\02\0\0\0_\0\0\0v\0\0\02\0\0\0_\0\0\0ä','\0\0\0e\0\0\0n\0\0\0u\0\0\0m\0\0\02\0\0\0_\0\0\0v\0\0\03\0\0\0_\0\0\0ö') CHARSET utf32 COLLATE utf32_general_ci)
INSERT INTO t1 VALUES("enum1_v3_Ã¶", "enum2_v3_Ã¶");
INSERT INTO t1 VALUES("enum1_v1_Ã¥", "enum2_v1_Ã¥");
SELECT c_enum_1, HEX(c_enum_1) FROM t1;
c_enum_1	HEX(c_enum_1)
enum1_v1_Ã¥	656E756D315F76315FE5
enum1_v1_Ã¥	656E756D315F76315FE5
enum1_v3_Ã¶	656E756D315F76335FF6
enum1_v1_Ã¥	656E756D315F76315FE5
SELECT c_enum_2, HEX(c_enum_2) FROM t1;
c_enum_2	HEX(c_enum_2)
enum2_v2_Ã¤	000000650000006E000000750000006D000000320000005F00000076000000320000005F000000E4
enum2_v2_Ã¤	000000650000006E000000750000006D000000320000005F00000076000000320000005F000000E4
enum2_v3_Ã¶	000000650000006E000000750000006D000000320000005F00000076000000330000005F000000F6
enum2_v1_Ã¥	000000650000006E000000750000006D000000320000005F00000076000000310000005F000000E5
DROP TABLE t1;
RESET MASTER;
SET GLOBAL binlog_row_metadata = NO_LOG;
