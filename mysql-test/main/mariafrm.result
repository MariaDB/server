set default_storage_engine=innodb;
CREATE TABLE t1 (a int, b varchar(100)) engine=MyISAM;
CREATE TABLE employees (
emp_no      INT             NOT NULL,
birth_date  DATE            NOT NULL,
first_name  VARCHAR(14)     NOT NULL,
last_name   VARCHAR(16)     NOT NULL,
gender      ENUM ('M','F')  NOT NULL,
hire_date   DATE            NOT NULL,
PRIMARY KEY (emp_no)                 
);
CREATE TABLE departments (
dept_no     CHAR(4)         NOT NULL,
dept_name   VARCHAR(40)     NOT NULL,
PRIMARY KEY (dept_no),
UNIQUE  KEY (dept_name)
);
CREATE TABLE index_table(
roll_number INT         NOT NULL PRIMARY KEY,
name        VARCHAR(40) NOT NULL,
mark        text        NOT NULL,
img         blob        NOT NULL,
INDEX (roll_number, name(20)),
INDEX (img(80))
);
CREATE TABLE student (
id          VARCHAR(20) NOT NULL,
first_name  VARCHAR(40) NOT NULL,
last_name   VARCHAR(40) COMMENT "Last name is optional",
age         INT         NOT NULL,
phone_no    VARCHAR(13),
address     VARCHAR(95) NOT NULL  COMMENT "The full address",
PRIMARY KEY (id)  COMMENT "Id is unique for each student",
UNIQUE KEY (phone_no)
) COMMENT="Student table with minimum required details";
CREATE TABLE sales (
cust_id   INT          NOT NULL,
name      VARCHAR(40),
store_id  VARCHAR(20)  NOT NULL,
bill_no   INT          NOT NULL,
bill_date DATE         NOT NULL PRIMARY KEY,
amount    DECIMAL(8,2) NOT NULL
)
PARTITION BY RANGE (year(bill_date)) (
PARTITION p0 VALUES LESS THAN (2016),
PARTITION p1 VALUES LESS THAN (2017),
PARTITION p2 VALUES LESS THAN (2018),
PARTITION p3 VALUES LESS THAN (2020)
);
CREATE TABLE serverlogs (
serverid INT      NOT NULL, 
logdata  BLOB     NOT NULL,
created  DATETIME NOT NULL
)
PARTITION BY HASH (serverid)
PARTITIONS 10;
CREATE TABLE custom_types (
id  UUID  PRIMARY KEY,
ip4 INET4 UNIQUE,
ip6 INET6
);
CREATE TABLE contacts (
id                INT          AUTO_INCREMENT PRIMARY KEY,
first_name        VARCHAR(50)  NOT NULL,
last_name         VARCHAR(50)  NOT NULL,
email             VARCHAR(100) NOT NULL,
phone             VARCHAR(20)  NOT NULL,
fullname          VARCHAR(101) GENERATED ALWAYS AS (CONCAT(first_name,' ',last_name)) VIRTUAL,
full_contact_info VARCHAR(150) GENERATED ALWAYS AS (CONCAT(email,' ',phone)) STORED
);
CREATE TABLE triangle (
sno        INT     PRIMARY KEY,
side_a     DOUBLE,
side_b     DOUBLE,
side_c     DOUBLE  AS (SQRT(side_a * side_a + side_b * side_b)) CHECK(side_c > side_a),
all_sides  JSON,
CONSTRAINT chk     CHECK (side_a > 0)
);

# Table t1

SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` int(11) DEFAULT NULL,
  `b` varchar(100) DEFAULT NULL
) ENGINE=MyISAM DEFAULT CHARSET=latin1

CREATE TABLE `t1` (
  `a` int(11) DEFAULT NULL,
  `b` varchar(100) DEFAULT NULL
) ENGINE=MyISAM DEFAULT CHARSET=latin1

# Table employees

SHOW CREATE TABLE employees;
Table	Create Table
employees	CREATE TABLE `employees` (
  `emp_no` int(11) NOT NULL,
  `birth_date` date NOT NULL,
  `first_name` varchar(14) NOT NULL,
  `last_name` varchar(16) NOT NULL,
  `gender` enum('M','F') NOT NULL,
  `hire_date` date NOT NULL,
  PRIMARY KEY (`emp_no`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1

CREATE TABLE `employees` (
  `emp_no` int(11) NOT NULL,
  `birth_date` date NOT NULL,
  `first_name` varchar(14) NOT NULL,
  `last_name` varchar(16) NOT NULL,
  `gender` enum('M','F') NOT NULL,
  `hire_date` date NOT NULL,
  PRIMARY KEY (`emp_no`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1

# Table departments

SHOW CREATE TABLE departments;
Table	Create Table
departments	CREATE TABLE `departments` (
  `dept_no` char(4) NOT NULL,
  `dept_name` varchar(40) NOT NULL,
  PRIMARY KEY (`dept_no`),
  UNIQUE KEY `dept_name` (`dept_name`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1

CREATE TABLE `departments` (
  `dept_no` char(4) NOT NULL,
  `dept_name` varchar(40) NOT NULL,
  PRIMARY KEY (`dept_no`),
  UNIQUE KEY `dept_name` (`dept_name`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1

# Table index_table

SHOW CREATE TABLE index_table;
Table	Create Table
index_table	CREATE TABLE `index_table` (
  `roll_number` int(11) NOT NULL,
  `name` varchar(40) NOT NULL,
  `mark` text NOT NULL,
  `img` blob NOT NULL,
  PRIMARY KEY (`roll_number`),
  KEY `roll_number` (`roll_number`,`name`(20)),
  KEY `img` (`img`(80))
) ENGINE=InnoDB DEFAULT CHARSET=latin1

CREATE TABLE `index_table` (
  `roll_number` int(11) NOT NULL,
  `name` varchar(40) NOT NULL,
  `mark` text NOT NULL,
  `img` blob NOT NULL,
  PRIMARY KEY (`roll_number`),
  KEY `roll_number` (`roll_number`,`name`(20)),
  KEY `img` (`img`(80))
) ENGINE=InnoDB DEFAULT CHARSET=latin1

# Table student

SHOW CREATE TABLE student;
Table	Create Table
student	CREATE TABLE `student` (
  `id` varchar(20) NOT NULL,
  `first_name` varchar(40) NOT NULL,
  `last_name` varchar(40) DEFAULT NULL COMMENT 'Last name is optional',
  `age` int(11) NOT NULL,
  `phone_no` varchar(13) DEFAULT NULL,
  `address` varchar(95) NOT NULL COMMENT 'The full address',
  PRIMARY KEY (`id`) COMMENT 'Id is unique for each student',
  UNIQUE KEY `phone_no` (`phone_no`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COMMENT='Student table with minimum required details'

CREATE TABLE `student` (
  `id` varchar(20) NOT NULL,
  `first_name` varchar(40) NOT NULL,
  `last_name` varchar(40) DEFAULT NULL COMMENT 'Last name is optional',
  `age` int(11) NOT NULL,
  `phone_no` varchar(13) DEFAULT NULL,
  `address` varchar(95) NOT NULL COMMENT 'The full address',
  PRIMARY KEY (`id`) COMMENT 'Id is unique for each student',
  UNIQUE KEY `phone_no` (`phone_no`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COMMENT='Student table with minimum required details'

# Table sales

SHOW CREATE TABLE sales;
Table	Create Table
sales	CREATE TABLE `sales` (
  `cust_id` int(11) NOT NULL,
  `name` varchar(40) DEFAULT NULL,
  `store_id` varchar(20) NOT NULL,
  `bill_no` int(11) NOT NULL,
  `bill_date` date NOT NULL,
  `amount` decimal(8,2) NOT NULL,
  PRIMARY KEY (`bill_date`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1
 PARTITION BY RANGE (year(`bill_date`))
(PARTITION `p0` VALUES LESS THAN (2016) ENGINE = InnoDB,
 PARTITION `p1` VALUES LESS THAN (2017) ENGINE = InnoDB,
 PARTITION `p2` VALUES LESS THAN (2018) ENGINE = InnoDB,
 PARTITION `p3` VALUES LESS THAN (2020) ENGINE = InnoDB)

CREATE TABLE `sales` (
  `cust_id` int(11) NOT NULL,
  `name` varchar(40) DEFAULT NULL,
  `store_id` varchar(20) NOT NULL,
  `bill_no` int(11) NOT NULL,
  `bill_date` date NOT NULL,
  `amount` decimal(8,2) NOT NULL,
  PRIMARY KEY (`bill_date`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1
 PARTITION BY RANGE (year(`bill_date`))
(PARTITION `p0` VALUES LESS THAN (2016) ENGINE = InnoDB,
 PARTITION `p1` VALUES LESS THAN (2017) ENGINE = InnoDB,
 PARTITION `p2` VALUES LESS THAN (2018) ENGINE = InnoDB,
 PARTITION `p3` VALUES LESS THAN (2020) ENGINE = InnoDB)

# Table serverlogs

SHOW CREATE TABLE serverlogs;
Table	Create Table
serverlogs	CREATE TABLE `serverlogs` (
  `serverid` int(11) NOT NULL,
  `logdata` blob NOT NULL,
  `created` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1
 PARTITION BY HASH (`serverid`)
PARTITIONS 10

CREATE TABLE `serverlogs` (
  `serverid` int(11) NOT NULL,
  `logdata` blob NOT NULL,
  `created` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1
 PARTITION BY HASH (`serverid`)
PARTITIONS 10

# Table custom_types

SHOW CREATE TABLE custom_types;
Table	Create Table
custom_types	CREATE TABLE `custom_types` (
  `id` uuid NOT NULL,
  `ip4` inet4 DEFAULT NULL,
  `ip6` inet6 DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `ip4` (`ip4`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1

CREATE TABLE `custom_types` (
  `id` uuid NOT NULL,
  `ip4` inet4 DEFAULT NULL,
  `ip6` inet6 DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `ip4` (`ip4`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1

# Table contacts

SHOW CREATE TABLE contacts;
Table	Create Table
contacts	CREATE TABLE `contacts` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `first_name` varchar(50) NOT NULL,
  `last_name` varchar(50) NOT NULL,
  `email` varchar(100) NOT NULL,
  `phone` varchar(20) NOT NULL,
  `fullname` varchar(101) GENERATED ALWAYS AS (concat(`first_name`,' ',`last_name`)) VIRTUAL,
  `full_contact_info` varchar(150) GENERATED ALWAYS AS (concat(`email`,' ',`phone`)) STORED,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1

CREATE TABLE `contacts` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `first_name` varchar(50) NOT NULL,
  `last_name` varchar(50) NOT NULL,
  `email` varchar(100) NOT NULL,
  `phone` varchar(20) NOT NULL,
  `fullname` varchar(101) GENERATED ALWAYS AS (concat(`first_name`,' ',`last_name`)) VIRTUAL,
  `full_contact_info` varchar(150) GENERATED ALWAYS AS (concat(`email`,' ',`phone`)) STORED,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1

# Table triangle

SHOW CREATE TABLE triangle;
Table	Create Table
triangle	CREATE TABLE `triangle` (
  `sno` int(11) NOT NULL,
  `side_a` double DEFAULT NULL,
  `side_b` double DEFAULT NULL,
  `side_c` double GENERATED ALWAYS AS (sqrt(`side_a` * `side_a` + `side_b` * `side_b`)) VIRTUAL CHECK (`side_c` > `side_a`),
  `all_sides` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL CHECK (json_valid(`all_sides`)),
  PRIMARY KEY (`sno`),
  CONSTRAINT `chk` CHECK (`side_a` > 0)
) ENGINE=InnoDB DEFAULT CHARSET=latin1

CREATE TABLE `triangle` (
  `sno` int(11) NOT NULL,
  `side_a` double DEFAULT NULL,
  `side_b` double DEFAULT NULL,
  `side_c` double GENERATED ALWAYS AS (sqrt(`side_a` * `side_a` + `side_b` * `side_b`)) VIRTUAL CHECK (`side_c` > `side_a`),
  `all_sides` longtext CHARACTER SET utf8mb4 COLLATE=utf8mb4_bin DEFAULT NULL CHECK (json_valid(`all_sides`)),
  PRIMARY KEY (`sno`),
  CONSTRAINT `chk` CHECK (`side_a` > 0)
) ENGINE=InnoDB DEFAULT CHARSET=latin1

DROP TABLE t1;
DROP TABLE employees;
DROP TABLE departments;
DROP TABLE index_table;
DROP TABLE student;
DROP TABLE sales;
DROP TABLE serverlogs;
DROP TABLE custom_types;
DROP TABLE contacts;
DROP TABLE triangle;
