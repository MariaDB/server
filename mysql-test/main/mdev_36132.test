--source include/have_sequence.inc
create table t (c int, key (c));
insert into t select seq from seq_1_to_10000;
alter table t
  add column vc int as (c + 1),
  add index(vc);

explain select c from t order by c;
explain select vc from t order by vc;
explain select vc from t order by vc limit 10;

explain select c + 1 from t order by c + 1;
explain select c + 1 from t order by vc;
explain select vc from t order by c + 1;

explain select vc from t order by c;
explain select c from t order by vc;

explain select c from t order by c + 1;

drop table t;

## ----

# create table t (c int, key(c));
# insert into t select seq from seq_1_to_10000;
# alter table t
#   add column vc int as (c + 1),
#   add index(vc);
# /* 1 */ explain select vc from t order by c + 1;
# /* 2 */ explain select vc from t order by c + 1;
# drop table t;


## ----

# create table t (c int, key (c));
# insert into t values (1), (2), (3);
# alter table t
#   add column vc int as (c + 1),
#   add index(vc);

# explain select c from t order by c;
# explain select vc from t order by vc;

# explain select c + 1 from t order by c + 1;
# explain select c + 1 from t order by vc;
# explain select vc from t order by c + 1;

# explain select vc from t order by c;
# explain select c from t order by vc;

# drop table t;

## ----

# --source include/have_sequence.inc
# create table t (c int);
# insert into t select seq from seq_1_to_10000;
# alter table t
#   add column vc int as (c + 1),
#   add index(vc);
# explain select 1 from t order by vc limit 10;
# drop table t;
