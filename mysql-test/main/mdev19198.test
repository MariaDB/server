CREATE TABLE t1 (c INT);
CREATE TABLE t2 (c INT);

LOCK TABLES t1 WRITE, t2 READ;
CREATE TABLE IF NOT EXISTS t1 LIKE t2;
UNLOCK TABLES;

LOCK TABLES t1 READ , t2 READ;
--error ER_TABLE_NOT_LOCKED_FOR_WRITE
CREATE TABLE IF NOT EXISTS t1 LIKE t2;
UNLOCK TABLES;

CREATE TABLE IF NOT EXISTS t1 LIKE t2;

DROP TABLES t1,t2;
