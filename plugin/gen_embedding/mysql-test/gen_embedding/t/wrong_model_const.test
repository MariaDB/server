source include/have_gen_embedding.inc;

# This test does not need access to an http server
# It verifies that a wrong model name will be caught before sending the API request

--replace_result $OPENAI_PORT OPENAI_PORT
call mtr.add_suppression("GENERATE_EMBEDDING_OPENAI: Model wrong-model-name is not supported");

select vec_totext(generate_embedding_openai('abc', 'wrong-model-name'));
