#
# Start of 10.5 tests
#
#
# MDEV-4958 Adding datatype UUID
#
SET default_storage_engine=CSV;
CREATE TABLE t1 (a UUID NOT NULL);
SHOW CREATE TABLE t1;
Table	Create Table
t1	CREATE TABLE `t1` (
  `a` uuid NOT NULL
) ENGINE=CSV DEFAULT CHARSET=latin1
FOR i IN 0..255
DO
INSERT INTO t1 VALUES (CONCAT(REPEAT(0x00,15), UNHEX(HEX(i))));
END FOR
$$
SELECT * FROM t1 WHERE a='00000000-0000-0000-0000-0000000000ff';
a
00000000-0000-0000-0000-0000000000ff
SELECT * FROM t1 WHERE a>='00000000-0000-0000-0000-0000000000fe' ORDER BY a;
a
00000000-0000-0000-0000-0000000000fe
00000000-0000-0000-0000-0000000000ff
SELECT * FROM t1 WHERE a IN
(
'00000000-0000-0000-0000-000000000080',
'00000000-0000-0000-0000-0000000000a0',
'00000000-0000-0000-0000-0000000000ff'
)
ORDER BY a;
a
00000000-0000-0000-0000-000000000080
00000000-0000-0000-0000-0000000000a0
00000000-0000-0000-0000-0000000000ff
SELECT * FROM t1
WHERE a BETWEEN
'00000000-0000-0000-0000-000000000080'
  AND
'00000000-0000-0000-0000-000000000081'
ORDER BY a;
a
00000000-0000-0000-0000-000000000080
00000000-0000-0000-0000-000000000081
SELECT CONCAT('ffff',SUBSTRING(a, 5,256)) FROM t1 WHERE a LIKE '%a_';
CONCAT('ffff',SUBSTRING(a, 5,256))
ffff0000-0000-0000-0000-0000000000a0
ffff0000-0000-0000-0000-0000000000a1
ffff0000-0000-0000-0000-0000000000a2
ffff0000-0000-0000-0000-0000000000a3
ffff0000-0000-0000-0000-0000000000a4
ffff0000-0000-0000-0000-0000000000a5
ffff0000-0000-0000-0000-0000000000a6
ffff0000-0000-0000-0000-0000000000a7
ffff0000-0000-0000-0000-0000000000a8
ffff0000-0000-0000-0000-0000000000a9
ffff0000-0000-0000-0000-0000000000aa
ffff0000-0000-0000-0000-0000000000ab
ffff0000-0000-0000-0000-0000000000ac
ffff0000-0000-0000-0000-0000000000ad
ffff0000-0000-0000-0000-0000000000ae
ffff0000-0000-0000-0000-0000000000af
UPDATE t1 SET a=CONCAT('ffff',SUBSTRING(a, 5,256)) WHERE a LIKE '%a_';
SELECT * FROM t1 WHERE a LIKE 'ffff%' ORDER BY a;
a
ffff0000-0000-0000-0000-0000000000a0
ffff0000-0000-0000-0000-0000000000a1
ffff0000-0000-0000-0000-0000000000a2
ffff0000-0000-0000-0000-0000000000a3
ffff0000-0000-0000-0000-0000000000a4
ffff0000-0000-0000-0000-0000000000a5
ffff0000-0000-0000-0000-0000000000a6
ffff0000-0000-0000-0000-0000000000a7
ffff0000-0000-0000-0000-0000000000a8
ffff0000-0000-0000-0000-0000000000a9
ffff0000-0000-0000-0000-0000000000aa
ffff0000-0000-0000-0000-0000000000ab
ffff0000-0000-0000-0000-0000000000ac
ffff0000-0000-0000-0000-0000000000ad
ffff0000-0000-0000-0000-0000000000ae
ffff0000-0000-0000-0000-0000000000af
DROP TABLE t1;
CREATE TABLE t1 (a UUID NOT NULL) ENGINE=CSV;
INSERT INTO t1 VALUES ('123e4567-e89b-12d3-a456-426655440000');
SELECT * FROM t1;
a
123e4567-e89b-12d3-a456-426655440000
DROP TABLE t1;
#
# End of 10.5 tests
#
