--source include/have_csv.inc

--echo #
--echo # Start of 10.5 tests
--echo #

--echo #
--echo # MDEV-4958 Adding datatype UUID
--echo #

SET default_storage_engine=CSV;

CREATE TABLE t1 (a UUID NOT NULL);
SHOW CREATE TABLE t1;

DELIMITER $$;
FOR i IN 0..255
DO
  INSERT INTO t1 VALUES (CONCAT(REPEAT(0x00,15), UNHEX(HEX(i))));
END FOR
$$
DELIMITER ;$$

SELECT * FROM t1 WHERE a='00000000-0000-0000-0000-0000000000ff';

SELECT * FROM t1 WHERE a>='00000000-0000-0000-0000-0000000000fe' ORDER BY a;

SELECT * FROM t1 WHERE a IN
(
  '00000000-0000-0000-0000-000000000080',
  '00000000-0000-0000-0000-0000000000a0',
  '00000000-0000-0000-0000-0000000000ff'
)
ORDER BY a;

SELECT * FROM t1
WHERE a BETWEEN
  '00000000-0000-0000-0000-000000000080'
  AND
  '00000000-0000-0000-0000-000000000081'
ORDER BY a;

SELECT CONCAT('ffff',SUBSTRING(a, 5,256)) FROM t1 WHERE a LIKE '%a_';
UPDATE t1 SET a=CONCAT('ffff',SUBSTRING(a, 5,256)) WHERE a LIKE '%a_';

SELECT * FROM t1 WHERE a LIKE 'ffff%' ORDER BY a;

DROP TABLE t1;

CREATE TABLE t1 (a UUID NOT NULL) ENGINE=CSV;
INSERT INTO t1 VALUES ('123e4567-e89b-12d3-a456-426655440000');
SELECT * FROM t1;
DROP TABLE t1;


--echo #
--echo # End of 10.5 tests
--echo #
